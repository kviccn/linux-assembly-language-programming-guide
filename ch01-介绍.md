# 介绍

## 欢迎来到编程的世界

我爱编程。享受它带来的挑战，不只是解决问题，更在于优雅的解决问题。编程就像诗歌。它不仅仅是在向计算机传递信息，更是在向那些修改和使用你程序的人。在程序中，你用自己的规则构建属于你的世界。你会根据你遇到的问题和你设想的解决方案去创造你的世界。优秀的程序员用清晰简洁的程序创造世界，就像一首诗或一篇文章。

最伟大的程序员之一 Donald Knuth 将编程描述为告诉一个人如何指导计算机做某事，而不是告诉计算机如何做某事。其中的关键是程序是要被人阅读的，而不仅仅是电脑。你的程序会在你转到其它项目后很长一段时间内被其它人修改和更新。因此，编程与其说是与计算机交流，不如说是与其它阅读和修改你程序的人交流。程序员同时是一个解决问题的人、诗人和指导者。你的目标是平衡和优雅的解决手头的问题，并将你的解决方案传授给未来的程序员。我希望这本书至少能教给你一些像书写诗歌那样的技巧或魔法以使你发现编程是如此的令人兴奋。

大多数关于编程的入门书籍都让我感到非常沮丧。因为在看完这些书籍之后，你仍然会问“计算机是如何工作的?”但却得不到一个令人满意的回答。他们倾向于忽略困难的问题，即使这些问题很重要。我将为你解答这些困难的问题，因为这是继续掌握编程的唯一方法。我的目标是让你从对编程一窍不通变成像程序员一样思考、写作和学习。你不会知道所有的事情，但是你会知道如何把所有事情结合在一起的背景。在这本书的结尾，你应该能够做到以下几点:

- 理解程序是如何运行的以及程序是如何与其它程序进行交互的
- 阅读别人的程序，了解它们是如何工作的
- 快速学习新的编程语言
- 快速学习计算机科学中的高级概念

我不会把所有东西都教给你。计算机科学是一个庞大的领域，尤其是当你把计算机理论和编程实践结合起来的时候。不过，我会试着让你从基础开始，这样你就能很容易地去延申到其它相关的地方。

在编程教学中，特别是汇编语言的教学中，存在着一些鸡生蛋还是蛋生鸡的问题。有很多东西要学，而且这么多的东西几乎是同时要学，并且每个部分都依赖于其他所有部分。因此，在学习编程时，你必须对自己和电脑有耐心。如果你第一次听不懂，就重读一遍。如果你仍然不理解它，有时候最好选择先相信它，然后回过头来再看看。通常，在多次接触编程之后，这些想法就会变得更有意义。不要气馁。尽管这是一次漫长且非常艰难的攀登。

每一章的末尾都有三组回顾练习。第一组是理解本章中学到的一些概念 -- 用来检查你是不是把学到的知识又还了回去。第二组包含应用程序问题 -- 它们检查你是否能用学到的知识解决问题。最后一组是看你是否有能力拓宽你的视野。其中的一些问题可能要到本书后面才能回答，但是它们给了你一些可以思考的东西。其他问题需要查阅外部资料并进行一些研究才能找到答案。还有一些要求你进行简单地分析并解释最好的解决方案是什么。许多问题没有明确的答案，但这并不意味着它们不重要。学习编程中涉及的问题，学习如何研究答案，以及学习如何拓宽视野，这些都是程序员工作的主要部分。

如果你有一些无法解决的问题，本书有一个相关的邮件列表，读者可以在这里讨论他们正在阅读的内容并获得帮助。邮箱地址是 `pgubook-readers#nongnu.org`。这是一个开放的邮件列表，你可以在此讨论学习过程中遇到的任何问题。你可以通过访问 [http://mail.nongnu.org/mailman/listinfo/pgubookreaders](http://mail.nongnu.org/mailman/listinfo/pgubookreaders) 订阅此列表。

## 你的工具

本书教授的是 x86 汇编语言和 GNU/Linux 操作系统。因此，我们将要给出的所有示例都会使用 GNU/Linux 标准的 GCC 工具集来构建。如果你对 GNU/Linux 和 GCC 工具集不熟悉的话，我将简短的介绍它们。如果你是初识 Linux，你应该先学习一下相关的基础知识。我想向你展示的是编程的一般过程，而不是在特定的平台上使用特定的工具集，但是对其中一个工具集进行标准化会使任务变得容易得多。

所有这些程序都已经使用 Red Hat Linux 8.0 进行了测试，也应该能和其他任何 GNU/Linux 发行版一起使用。它们不能与非 linux 操作系统（如 BSD 或其他系统）一起工作。然而，这本书中学习到的所有技能都应该可以很容易地应用到其他任何操作系统中。

Linux 是内核的名称。内核是操作系统的核心部分，它可以跟踪所有内容。内核既是一道屏障又是一扇门。作为一扇门，它允许程序以统一的方式访问硬件。如果没有内核，你将不得不编写程序来处理所有的设备模型。内核处理所有特定于设备的交互，所以你不必这样做。它还处理进程之间的文件访问和交互。例如，当你敲击键盘时，你键入的内容在到达编辑器之前要经过好几道程序。首先，内核负责处理硬件，因此它是第一个收到关于按键通知的程序。键盘向内核发送扫描码，内核将其转换为它们所表示的实际字母、数字和符号。如果你正在使用有图形界面的系统（如 Microsoft Windows® 或 X Window system），那么图形界面系统将从内核读取按键，并将其传递给用户当前激活的程序。

### 例 1-1. 计算机如何处理键盘信号

键盘 -> 内核 -> 窗口系统 -> 应用程序

内核同时控制着程序之间的信息流。内核是程序通往周围世界的大门。每当数据在进程之间移动时，内核控制消息的传递。在上面的键盘示例中，窗口系统必须通过内核来使按键与应用程序通信。

作为一道屏障，内核防止程序意外地覆盖彼此的数据，以及访问它们没有权限访问的文件和设备。它限制了那些不完善的程序对其他正在运行的程序造成的损害。

在我们的例子中，内核是 Linux。内核本身不会做任何事情。你甚至不能只用一个内核来启动计算机。把内核想象成房子中的水管。没有水管，水龙头就不能工作，但是如果没有水龙头的话，水管也就没有什么用处了。将用户应用程序（从 GNU project 或其他地方获取）和内核（Linux）结合在一起才能构成完整的操作系统，即 GNU/Linux。

在很大程度上，本书将使用计算机的底层汇编语言。从本质上讲有三种类型的语言:

- 机器语言

    这是计算机实际看到和处理的东西。计算机看到的每条命令都是一个数字或数字序列。

- 汇编语言

    这与机器语言是一样的，只是使用更容易记忆的字母序列取代了命令编号。还提供了一些使其更容易的小技巧。

- 高级语言
    
    高级语言是为了使编程更容易。汇编语言要求你直接面向具体的机器编程。高级语言允许你用更自然的语言描述程序。高级语言中的一个命令通常相当于汇编语言中的几个命令。

在本书中，我们将学习汇编语言，尽管我们将涉及一些高级语言。希望通过学习汇编语言，使你对编程和计算机工作原理的理解能更进一步。
